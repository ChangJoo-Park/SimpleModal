var SimpleModal=function(e){if(void 0!==e&&null!==e){$(e).blur();var o=$("body"),r='<div class="modal-overlay"></div>',t={},n=$(e).data(),a=$(n.target);if((n.hasOwnProperty("target")||!n.hasOwnProperty("role"))&&void 0!==a&&"modal:container"===a.data("role")){var s={userBeforeOpen:void 0,userAfterOpen:void 0,userBeforeClose:void 0,userAfterClose:void 0,userCancel:void 0,userSubmit:void 0,useBackdropOvelay:!0,overlayOptions:{opacity:.95,duration:300,color:"black",closeWhenClick:!0},scrollableBackgroud:!1},l=s,i={overflow:o.css("overflow")},c=!1,d=!1;return setProperties=function(e,o){var r=o;void 0!==r&&null!==r||(r=l),Object.keys(e).forEach(function(o){r.hasOwnProperty(o)&&("object"==typeof e[o]?setProperties(e[o],r[o]):r[o]=e[o])})},validateProperties=function(e){void 0!==e&&null!==e&&0!==Object.keys(e).length&&setProperties(e)},startOpen=function(){if(!c){if(c=!0,i={overflow:o.css("overflow")},l.scrollableBackgroud);else{var e={overflow:"hidden"};o.css(e)}l.useBackdropOvelay===!0?0===$("body").find(".modal-overlay").length&&(o.append(r),t=$(".modal-overlay"),t.css("background-color",l.overlayOptions.color),t.animate({opacity:l.overlayOptions.opacity},l.overlayOptions.duration,function(){doOpen()})):doOpen(),l.hasOwnProperty("userBeforeOpen")&&void 0!==l.userBeforeOpen&&l.userBeforeOpen()}},endOpen=function(){l.useBackdropOvelay===!0&&$(t).click(clickOverlay),$('*[data-role="modal:container"] [data-role="modal:close"]').click(function(e){e.preventDefault(),l.hasOwnProperty("userCancel")&&void 0!==l.userCancel&&l.userCancel(),startClose()}),$('*[data-role="modal:container"] [data-role="modal:submit"]').click(function(e){e.preventDefault(),l.hasOwnProperty("userSubmit")&&void 0!==l.userSubmit&&l.userSubmit(),startClose()}),l.hasOwnProperty("userAfterOpen")&&void 0!==l.userAfterOpen&&l.userAfterOpen(),c=!1},startClose=function(){d||(d=!0,l.useBackdropOvelay===!0&&$(t).off(),$('*[data-role="modal:container"] [data-dismiss="modal"]').off(),l.hasOwnProperty("userBeforeClose")&&void 0!==l.userBeforeClose&&l.userBeforeClose(),doClose())},endClose=function(){l.useBackdropOvelay===!0&&t.animate({opacity:0},l.overlayOptions.duration,function(){this.remove()}),o.css(i),l.hasOwnProperty("userAfterClose")&&void 0!==l.userAfterClose&&l.userAfterClose(),d=!1,l={}},doOpen=function(){a.show("400",function(){endOpen()})},doClose=function(){a.hide("400",function(){endClose()})},clickOverlay=function(e){e.preventDefault(),l.overlayOptions.closeWhenClick&&close()},close=function(){startClose()},open=function(e){validateProperties(e),startOpen()},{open:open}}}};